!function (e) {
    e(["jquery"], function (e) {
        return function () {
            function t(e, t, i) {
                return m({type: _.error, iconClass: h().iconClasses.error, message: e, optionsOverride: i, title: t})
            }

            function i(t, i) {
                return t || (t = h()), v = e("#" + t.containerId), v.length ? v : (i && (v = d(t)), v)
            }

            function n(e, t, i) {
                return m({type: _.info, iconClass: h().iconClasses.info, message: e, optionsOverride: i, title: t})
            }

            function a(e) {
                y = e
            }

            function o(e, t, i) {
                return m({
                    type: _.success,
                    iconClass: h().iconClasses.success,
                    message: e,
                    optionsOverride: i,
                    title: t
                })
            }

            function s(e, t, i) {
                return m({
                    type: _.warning,
                    iconClass: h().iconClasses.warning,
                    message: e,
                    optionsOverride: i,
                    title: t
                })
            }

            function r(e, t) {
                var n = h();
                v || i(n), c(e, n, t) || u(n)
            }

            function l(t) {
                var n = h();
                return v || i(n), t && 0 === e(":focus", t).length ? void g(t) : void(v.children().length && v.remove())
            }

            function u(t) {
                for (var i = v.children(), n = i.length - 1; n >= 0; n--)c(e(i[n]), t)
            }

            function c(t, i, n) {
                var a = !(!n || !n.force) && n.force;
                return !(!t || !a && 0 !== e(":focus", t).length) && (t[i.hideMethod]({
                        duration: i.hideDuration,
                        easing: i.hideEasing,
                        complete: function () {
                            g(t)
                        }
                    }), !0)
            }

            function d(t) {
                return v = e("<div/>").attr("id", t.containerId).addClass(t.positionClass).attr("aria-live", "polite").attr("role", "alert"), v.appendTo(e(t.target)), v
            }

            function f() {
                return {
                    tapToDismiss: !0,
                    toastClass: "toast",
                    containerId: "toast-container",
                    debug: !1,
                    showMethod: "fadeIn",
                    showDuration: 300,
                    showEasing: "swing",
                    onShown: void 0,
                    hideMethod: "fadeOut",
                    hideDuration: 1e3,
                    hideEasing: "swing",
                    onHidden: void 0,
                    closeMethod: !1,
                    closeDuration: !1,
                    closeEasing: !1,
                    extendedTimeOut: 1e3,
                    iconClasses: {
                        error: "toast-error",
                        info: "toast-info",
                        success: "toast-success",
                        warning: "toast-warning"
                    },
                    iconClass: "toast-info",
                    positionClass: "toast-top-right",
                    timeOut: 5e3,
                    titleClass: "toast-title",
                    messageClass: "toast-message",
                    escapeHtml: !1,
                    target: "body",
                    closeHtml: '<button type="button">&times;</button>',
                    newestOnTop: !0,
                    preventDuplicates: !1,
                    progressBar: !1
                }
            }

            function p(e) {
                y && y(e)
            }

            function m(t) {
                function n(e) {
                    return null == e && (e = ""), new String(e).replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&#39;").replace(/</g, "&lt;").replace(/>/g, "&gt;")
                }

                function a() {
                    r(), u(), c(), d(), f(), l()
                }

                function o() {
                    O.hover(C, _), !$.onclick && $.tapToDismiss && O.click(y), $.closeButton && P && P.click(function (e) {
                        e.stopPropagation ? e.stopPropagation() : void 0 !== e.cancelBubble && e.cancelBubble !== !0 && (e.cancelBubble = !0), y(!0)
                    }), $.onclick && O.click(function (e) {
                        $.onclick(e), y()
                    })
                }

                function s() {
                    O.hide(), O[$.showMethod]({
                        duration: $.showDuration,
                        easing: $.showEasing,
                        complete: $.onShown
                    }), $.timeOut > 0 && (k = setTimeout(y, $.timeOut), z.maxHideTime = parseFloat($.timeOut), z.hideEta = (new Date).getTime() + z.maxHideTime, $.progressBar && (z.intervalId = setInterval(T, 10)))
                }

                function r() {
                    t.iconClass && O.addClass($.toastClass).addClass(x)
                }

                function l() {
                    $.newestOnTop ? v.prepend(O) : v.append(O)
                }

                function u() {
                    t.title && (D.append($.escapeHtml ? n(t.title) : t.title).addClass($.titleClass), O.append(D))
                }

                function c() {
                    t.message && (E.append($.escapeHtml ? n(t.message) : t.message).addClass($.messageClass), O.append(E))
                }

                function d() {
                    $.closeButton && (P.addClass("toast-close-button").attr("role", "button"), O.prepend(P))
                }

                function f() {
                    $.progressBar && (I.addClass("toast-progress"), O.prepend(I))
                }

                function m(e, t) {
                    if (e.preventDuplicates) {
                        if (t.message === b)return !0;
                        b = t.message
                    }
                    return !1
                }

                function y(t) {
                    var i = t && $.closeMethod !== !1 ? $.closeMethod : $.hideMethod, n = t && $.closeDuration !== !1 ? $.closeDuration : $.hideDuration, a = t && $.closeEasing !== !1 ? $.closeEasing : $.hideEasing;
                    if (!e(":focus", O).length || t)return clearTimeout(z.intervalId), O[i]({
                        duration: n,
                        easing: a,
                        complete: function () {
                            g(O), $.onHidden && "hidden" !== j.state && $.onHidden(), j.state = "hidden", j.endTime = new Date, p(j)
                        }
                    })
                }

                function _() {
                    ($.timeOut > 0 || $.extendedTimeOut > 0) && (k = setTimeout(y, $.extendedTimeOut), z.maxHideTime = parseFloat($.extendedTimeOut), z.hideEta = (new Date).getTime() + z.maxHideTime)
                }

                function C() {
                    clearTimeout(k), z.hideEta = 0, O.stop(!0, !0)[$.showMethod]({
                        duration: $.showDuration,
                        easing: $.showEasing
                    })
                }

                function T() {
                    var e = (z.hideEta - (new Date).getTime()) / z.maxHideTime * 100;
                    I.width(e + "%")
                }

                var $ = h(), x = t.iconClass || $.iconClass;
                if ("undefined" != typeof t.optionsOverride && ($ = e.extend($, t.optionsOverride), x = t.optionsOverride.iconClass || x), !m($, t)) {
                    w++, v = i($, !0);
                    var k = null, O = e("<div/>"), D = e("<div/>"), E = e("<div/>"), I = e("<div/>"), P = e($.closeHtml), z = {
                        intervalId: null,
                        hideEta: null,
                        maxHideTime: null
                    }, j = {toastId: w, state: "visible", startTime: new Date, options: $, map: t};
                    return a(), s(), o(), p(j), $.debug && console && console.log(j), O
                }
            }

            function h() {
                return e.extend({}, f(), C.options)
            }

            function g(e) {
                v || (v = i()), e.is(":visible") || (e.remove(), e = null, 0 === v.children().length && (v.remove(), b = void 0))
            }

            var v, y, b, w = 0, _ = {
                error: "error",
                info: "info",
                success: "success",
                warning: "warning"
            }, C = {
                clear: r,
                remove: l,
                error: t,
                getContainer: i,
                info: n,
                options: {},
                subscribe: a,
                success: o,
                version: "2.1.2",
                warning: s
            };
            return C
        }()
    })
}("function" == typeof define && define.amd ? define : function (e, t) {
    "undefined" != typeof module && module.exports ? module.exports = t(require("jquery")) : window.toastr = t(window.jQuery)
});
var xhrError = function (e) {
    tips.error(e.status + " " + e.statusText)
};
toastr.options = {
    closeButton: !0,
    debug: !1,
    positionClass: "toast-top-center",
    onclick: null,
    showDuration: "500",
    hideDuration: "500",
    timeOut: "3000",
    extendedTimeOut: "1000",
    showEasing: "swing",
    hideEasing: "linear",
    showMethod: "fadeIn",
    hideMethod: "fadeOut"
};
var tips = {
    error: function (e) {
        toastr.error(e, "@_@")
    }, success: function (e, t) {
        toastr.success(e, "^_^"), $.isFunction(t) && setTimeout(t, 2e3)
    }
}, setImgPreview = {
    set: function (e, t, i) {
        var n = $("#" + e + "Preview");
        if (empty(t))return void n.html("");
        var a = Param.uri.img + t, o = "";
        if (empty(i) || "img" == i) {
            var s = "setImgPreview.clear('" + e + "')";
            o = '<span class="badge badge-danger" style="top: -5px; left: 125px; position: absolute; font-size: 22px ; cursor: pointer" onclick="' + s + '">X</span> <img src="{src}" /> '
        } else"file" == i && (o = '<a href="{src}" target="_blank" class="btn red" ><i class="icon-cloud-download"></i> 下载</a>');
        n.html(o.replace(/\{src}/g, a)), $('input[name="' + e + '"]').val(t)
    }, clear: function (e) {
        $("#" + e + "Preview").empty(), $('input[name="' + e + '"]').val("")
    }
}, loading = {
    initAjax: function () {
        var e = this.insert();
        $(document).ajaxStart(function () {
            e.show()
        }).ajaxComplete(function () {
            e.fadeOut("fast")
        })
    }, start: function () {
        var e = this.insert();
        e.show()
    }, end: function () {
        $(".fit-loading").hide()
    }, insert: function () {
        var e = $(".fit-loading");
        0 == e.length && ($("body").append('<div class="fit-loading"></div>'), e = $(".fit-loading"));
        var t = ($(window).height() - e.height()) / 2, i = ($(window).width() - e.width()) / 2;
        return e.css({top: t + "px", left: i + "px", display: "none"}), e
    }
}, sure = {
    config: {}, init: function (e, t, i) {
        var n = this;
        if (n.config.ok = t, n.config.cancel = i, $(".fit-confirm").length < 1) {
            var a = [];
            a.push('<div class="fit-confirm">'), a.push('<div class="fit-confirm-body"></div>'), a.push('<div class="fit-confirm-btn">'), a.push('<button class="half" id="fit-confirm-cancel_btn" type="button" onclick="sure.cancel(); ">取消</button>'), a.push('<button class="half" id="fit-confirm-ok_btn" type="button" onclick="sure.ok(); ">确定</button>'), a.push("</div></div>"), $("body").append(a.join(""))
        }
        $(".fit-modal").length < 1 && $("body").append('<div class="fit-modal"></div>'), $(".fit-confirm-body").html(e), n.show()
    }, ok: function () {
        var e = this;
        $.isFunction(e.config.ok) && e.config.ok(), e.hide()
    }, cancel: function () {
        var e = this;
        $.isFunction(e.config.cancel) && e.config.cancel(), e.hide()
    }, show: function () {
        var e = $(".fit-confirm"), t = $(document).height();
        $(".fit-modal").height(t - 1).show();
        var i = ($(window).height() - e.height()) / 2 - 60, n = ($(window).width() - e.width()) / 2;
        e.css({top: i + "px", left: n + "px", position: "fixed"}).show()
    }, hide: function () {
        $(".fit-modal").hide(), $(".fit-confirm").hide()
    }
}, empty = function (e) {
    return null == e || "undefined" == e || "undefined" == typeof e || 0 == e || "" == e || 0 == e.length
}, isset = function (e) {
    return "undefined" != typeof e && null != e
}, str_repeat = function (e, t) {
    return new Array(t + 1).join(e)
}, get_thumb = function (e, t) {
    return empty(t) ? e : e.substr(0, e.lastIndexOf(".") + 1) + t + e.substr(e.lastIndexOf("."))
}, form_options_rows = function (e, t) {
    var i = "";
    return $.each(e, function (e, n) {
        var a = "";
        isset(n.level) && (a = n.level - 1 > 0 ? str_repeat("&nbsp;&nbsp;&nbsp;&nbsp;", n.level - 1) + "└─ " : ""), i += '<option value="' + n.id + '">' + a + n[t.field] + "</option>", isset(n[t.nodeField]) && (i += form_options_rows(n[t.nodeField], t))
    }), i
}, KE_OPTIONS = {
    items: ["source", "|", "undo", "redo", "|", "preview", "cut", "copy", "paste", "plainpaste", "wordpaste", "|", "justifyleft", "justifycenter", "justifyright", "justifyfull", "insertorderedlist", "insertunorderedlist", "indent", "outdent", "subscript", "superscript", "clearhtml", "quickformat", "|", "fullscreen", "/", "formatblock", "fontname", "fontsize", "|", "forecolor", "hilitecolor", "bold", "italic", "underline", "strikethrough", "lineheight", "removeformat", "|", "image", "flash", "media", "table", "hr", "pagebreak", "anchor", "link", "unlink"],
    uploadJson: "",
    allowFileManager: !1,
    urlType: "domain",
    resizeType: 1,
    themeType: "simple",
    afterBlur: function () {
        this.sync()
    }
};
$.extend({
    getUrlParams: function () {
        for (var e, t = [], i = window.location.href.slice(window.location.href.indexOf("?") + 1).split("&"), n = 0; n < i.length; n++)e = i[n].split("="), t[e[0]] = e[1];
        return t
    }, getUrlParam: function (e) {
        return $.getUrlParams()[e]
    }
});
var FLAT_BG_COLOR = {
    blue: "blue",
    blue_hoki: "blue-hoki",
    blue_steel: "blue-steel",
    blue_madison: "blue-madison",
    blue_chambray: "blue-chambray",
    blue_ebonyclay: "blue-ebonyclay",
    green: "green",
    green_meadow: "green-meadow",
    green_seagreen: "green-seagreen",
    green_turquoise: "green-turquoise",
    green_haze: "green-haze",
    green_jungle: "green-jungle",
    red: "red",
    red_pink: "red-pink",
    red_sunglo: "red-sunglo",
    red_intense: "red-intense",
    red_thunderbird: "red-thunderbird",
    red_flamingo: "red-flamingo",
    yellow: "yellow",
    yellow_gold: "yellow-gold",
    yellow_casablanca: "yellow-casablanca",
    yellow_crusta: "yellow-crusta",
    yellow_lemon: "yellow-lemon",
    yellow_saffron: "yellow-saffron",
    purple: "purple",
    purple_plum: "purple-plum",
    purple_medium: "purple-medium",
    purple_studio: "purple-studio",
    purple_wisteria: "purple-wisteria",
    purple_seance: "purple-seance",
    grey: "grey",
    grey_cascade: "grey-cascade",
    grey_silver: "grey-silver",
    grey_steel: "grey-steel",
    grey_cararra: "grey-cararra",
    grey_gallery: "grey-gallery"
}, DTP_DATE_OPTION = {
    language: "zh-CN",
    format: "yyyy-mm-dd",
    startView: 2,
    minView: 2,
    autoclose: 1,
    todayBtn: !0,
    todayHighlight: !0,
    pickerPosition: "bottom-right"
}, DTP_TIME_OPTION = {
    language: "zh-CN",
    format: "hh:ii",
    startView: 0,
    minView: 0,
    minuteStep: 15,
    autoclose: 1
}, DTP_DATETIME_OPTION = {
    language: "zh-CN",
    format: "yyyy-mm-dd hh:ii",
    autoclose: 1,
    todayBtn: !0,
    todayHighlight: !0,
    pickerPosition: "bottom-right"
}, ImageLazyLoaded = {
    config: {defaultImgUri: "defaultImgUri"}, init: function (e) {
        $.extend(this.config, e);
        var t = this;
        t.imageLoading(), $(document).on("scroll", function () {
            t.imageLoading()
        })
    }, imageLoading: function () {
        var e = this.config.defaultImgUri;
        $('img[src="' + e + '"]').each(function () {
            var e = $(this), t = e.offset();
            $(window).scrollTop() + window.height + 50 <= t.top && e.attr("src", e.data("src"))
        })
    }
};
!function (e) {
    e.fn.reloadForm = function (t) {
        this[0].reset(), this.clearFormValid(), this.find(":input").each(function () {
            var i = e(this).attr("name");
            if (empty(i) && (i = e(this).attr("id")), isset(i) && isset(t) && isset(t[i])) {
                var n = t[i];
                switch (this.type) {
                    case"checkbox":
                    case"radio":
                        e('input[name="' + i + '"][value="' + n + '"]').prop("checked", !0);
                        break;
                    default:
                        e(this).val(n)
                }
            }
        })
    }, e.fn.extend({
        animateCss: function (t) {
            var i = "webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";
            this.addClass("animated " + t).one(i, function () {
                e(this).removeClass("animated " + t)
            })
        }
    }), e.fn.validForm = function () {
        var t = !0;
        return this.find(":input").each(function () {
            var i = e.trim(e(this).val());
            if (e(this).data("valid")) {
                switch (e(this).data("valid")) {
                    case"required":
                        "" != i && 0 != i && 0 != i.length || (t = !1);
                        break;
                    case"number":
                        (!e.isNumeric(i) || i < 0) && (t = !1);
                        break;
                    case"positive":
                        (!e.isNumeric(i) || i <= 0) && (t = !1)
                }
                if (!t)return e(this).focus(), tips.error(e(this).data("tips")), e(this).parents(".form-group").addClass("has-error"), e(this).before('<i class="fa fa-warning valid-icon"></i>'), t;
                e(this).parents(".form-group").removeClass("has-error"), e(this).prev("i").remove()
            }
        }), t
    }, e.fn.clearFormValid = function () {
        this.find(".has-error").removeClass("has-error"), this.find(".valid-icon").remove()
    }, e.fn.serializeObject = function () {
        var t = {}, i = this.serializeArray();
        return e.each(i, function () {
            void 0 !== t[this.name] ? (t[this.name].push || (t[this.name] = [t[this.name]]), t[this.name].push(this.value || "")) : t[this.name] = this.value || ""
        }), t
    }, e.fn.serializeJSON = function () {
        var t = this, i = {}, n = {}, a = {
            validate: /^[a-zA-Z][a-zA-Z0-9_]*(?:\[(?:\d*|[a-zA-Z0-9_]+)\])*$/,
            key: /[a-zA-Z0-9_]+|(?=\[\])/g,
            push: /^$/,
            fixed: /^\d+$/,
            named: /^[a-zA-Z0-9_]+$/
        };
        return this.build = function (e, t, i) {
            return e[t] = i, e
        }, this.push_counter = function (e) {
            return void 0 === n[e] && (n[e] = 0), n[e]++
        }, e.each(e(this).serializeArray(), function () {
            if (a.validate.test(this.name)) {
                for (var n, o = this.name.match(a.key), s = this.value, r = this.name; void 0 !== (n = o.pop());)r = r.replace(new RegExp("\\[" + n + "\\]$"), ""), n.match(a.push) ? s = t.build([], t.push_counter(r), s) : n.match(a.fixed) ? s = t.build([], n, s) : n.match(a.named) && (s = t.build({}, n, s));
                i = e.extend(!0, i, s)
            }
        }), i
    }
}(jQuery);
var optEdit = function (e, t) {
    return '<a class="btn btn-sm grey-cascade editBtn" data-id="' + t.id + '" href="javascript:;"><i class="fa fa-edit"></i> 编辑</a>'
}, optDelete = function (e, t) {
    return '<a class="btn btn-sm red destroyBtn" data-id="' + t.id + '" href="javascript:;"><i class="fa fa-trash"></i> 删除</a>'
}, statusColor = ["default", "primary", "success", "info"], formatStatus = function (e) {
    return '<span class="label label-sm label-' + statusColor[e] + '">' + Param.status[e] + "</span>"
}, typeColor = ["default", "primary", "success", "info"], formatType = function (e) {
    return '<span class="label label-sm label-' + typeColor[e] + '">' + Param.type[e] + "</span>"
}, catalogColor = ["default", "primary", "success", "info"], formatCatalog = function (e) {
    return '<span class="label label-sm label-' + catalogColor[e] + '">' + Param.catalog[e] + "</span>"
}, formatIcon = function (e) {
    var t = "";
    if (e && !empty(e)) {
        var i = Param.uri.img + e;
        t = '<a href="${src}" target="_blank"><img src="${src}" style="max-width: 60px"></a>'.replace(/\${src}/g, i)
    }
    return t
}, formatDatetime = function (e) {
    var t = "";
    return empty(e) || (t = e.substr(0, 16)), t
}, formatDate = function (e) {
    var t = "";
    return empty(e) || (t = e.substr(0, 10)), t
}, yesColor = ["default", "primary"], formatYes = function (e) {
    var t = ["否", "是"];
    return '<span class="label label-sm label-' + yesColor[e] + '">' + t[e] + "</span>"
};